{deck}
version:1
card:0
size:[512,342]
name:"patedit.deck"

{card:home}
image:"%%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"
script:"home.0"
{widgets}
pat:{"type":"contraption","size":[148,82],"pos":[360,20],"script":"home.1","def":"patternPicker","widgets":{"c":{"size":[148,82],"image":"%%IMG3AJQAUgUgII5kaZ5oqq5s675wLM90bd94ru983wfAoHBIDPiOyKRxtkw6n6ei1DidAqrYrHbL7VZXAYF4TCZTB+i0ej2gEt7weDxQqNvv+ELAwO/7/wYBB4OEhYYHAQiKi4yNCAEJkZKTlAlNKGFlmmJnbJ5obnKib3R5pnV7gKp8goeug4mOsoqQlbaRl1Gbm52fbKGjcqWneamrgK2vh7GzjrW3lbkmmbtmV76ewMFww8R3xsd+ycqFzM2Mz9CT0iXU1ZzX2Gva2wTd3qjhyOTL587q0cC8sxZA3rwr9ebgwwNOXyB+hsz5ewSQEjsS7t71MtgGYUJSC785FAex3ER0FdcJHAivIEdQHj/ew9dQ3ziIEv2lq3hxRMZqGw3S2zbTW81wN/nlPLcTYE8RP3cFlTc0WFFiR48lJbe0WVN1T6+wbPkSZoCPIEPmG8mqJKGus75CCxuVV7yXVUddPZV11VZlcGXJvUV3rICp2PKK2muqr6q/rwL/S4lrJUvEvhQLU7uWLWRXkhsNtlV4LOZPmhVydrzPLaKTi0YHVFFX0+lsMRMyLsa2revQKClbsjzw9q/c9XYz7P3wN2xawofT5nLFS3Uv2LNr3y4EjILv4MOHD5siAIPz6NOnD9Cgvfv38BsEcEC/vv37DgI82M+/v/8HAUAg4IAEFghBABEkqOCCDEZAl3gQgsedehSix158GLY3H34c0qfffyDuF6CBJAqIYIMoJvhghCwGsMCLMMYo4wLmVWjjhRnGt2GH+H0Y4n8jlmjgiSk2uCKLELo445Iv1mgjhTjm+N6OPNrn44/9BSkkgUQWueCRSI7HJJNOPrmelDpW2SOWQG45pJdGehemeEqOKWOZZp4XJZryqXnflWwC6GaBXcLpoJxzSmjnjHjmuSeaVPoJKJtaDloonGAmWueiTeap3qNSRqrmpFhW6ualXmY656acNmomqDmKWiWpP5q6JapFqhomq4u6+iSsGcrKI60h2iokrinqiiSvdvp6I59T+mlloFkOyqWhXyKaqALMjulshcBiKGyHxIJobInIoqhsi5zG+C2U0Lo3LofltmmtidgquG6E3ZLp6Znx9imth9Tydy6J6cZJ27aKttvpv3oGLPDA9fp38Jv5Hroww9w6/DDE4aY5cH4Fi3gvvhnvm6THNEIcccDzrlnyxYRmrHF53OWs8848dwGGBEAHLfTQEgQwwdFIJ630BAFQ4PTTUEdNQQAVVG311VhXEIAFXHft9dcWBHDB2GSXbfYFAWCg9tpst41BABnELffcdGdAF9F4B2300nwf3bTUgDtNddaEV7012IhzLfbZjI+dttuQqw133ZTHfXfeeO/d99J/By714IVnfXjiYC/e+NmPR+725JXXfTnmQ2u+edKdew416KFfPTrpXpt+etmpq842663P/Trses/Oue2f5y4676X/jrrwqxfv+s/ICy278kwzHzXuzmsN/de+S4829W0Tb73d2GcP9PbK1+49+M7vPn750gePvvrWH589/LOTH/Polzv7QQ9/v9Mf9fhXPP8hD4CbE6DtCBg6A/IOgadToPAY2DoHwg6CfZOg5yhYOAuSDoON06DqOFg5D2IOhHwTYeBISDgTJg6FjFNh5FhIORfmDYbL897TaPi88XUNh9ND39p4eD3auC953EOaDAFHRKzZEHFINJsOIcdEuvkwc1GUohCHGD7dGfGI5gOeEpe4PuO1z31AVNoUm1dGw51RcWkk2xar10bLvfF/YfTbGAVXRzveMYtqXOPb+uhHJz6xaIHs3iCraMZD5tFxilwkI+nSs0568pPcAYMGRknKUppSAwHYgCpXycpWboA8UIglDwJwylqSMpWuzKUqYSnLXt6AlrasJS516Upe+vKYMgBmME05TGKy0pjIjGYLlLnMWzqzmNLMJg6oWU1UXrOV0NSmODHSzVI285vhHOc4uVnNc14znerUJjuX6U5nwjOe0pxnMOtJzHviE5n6tCU/denPf/oyoML85jMNytBplNOaCt1lQycKlYeOcqC5LChFnYDQU2IUmxtlaEeZGVGJhtSgIzVnSV95UpSCMggtjalMZ0rTmtr0pjjNaTZDAA=="},"v":{"size":[90,25],"value":3},"cc":{"size":[21,20],"pos":[108,-40],"value":0}}}
canv:{"type":"canvas","size":[160,160],"pos":[47,60],"script":"home.2","image":"%%IMG0AAgACCBAgMEiHAgQ","scale":20}
button1:{"type":"button","size":[46,20],"pos":[64,310],"script":"home.3","text":"Invert"}
button2:{"type":"button","size":[60,20],"pos":[186,296],"script":"home.4","text":"Clear"}
button3:{"type":"button","size":[60,20],"pos":[288,29],"script":"home.5","text":"Copy"}
button4:{"type":"button","size":[60,20],"pos":[279,55],"script":"home.6","text":"Paste"}
button5:{"type":"button","size":[30,60],"pos":[215,107],"script":"home.7","show":"transparent"}
button6:{"type":"button","size":[30,60],"pos":[8,108],"script":"home.8","show":"transparent"}
button7:{"type":"button","size":[73,31],"pos":[94,228],"script":"home.9","show":"transparent"}
button8:{"type":"button","size":[73,31],"pos":[89,22],"script":"home.10","show":"transparent"}
clip:{"type":"canvas","size":[40,40],"pos":[228,35],"locked":1,"script":"home.2","pattern":0,"image":"%%IMG0AAgACIgiiCKIIogi","scale":5}
field1:{"type":"field","size":[230,55],"pos":[271,276],"locked":1,"style":"plain","value":"Note: if you save this deck, you can import the custom patterns into another deck via the Font/DA Mover. Alternatively, you can copy this card directly into your deck, edit the patterns in-place, and delete the card when you're satisfied."}
button9:{"type":"button","size":[60,20],"pos":[25,286],"script":"home.11","show":"transparent","text":"Flip        "}
button10:{"type":"button","size":[60,20],"pos":[90,286],"script":"home.12","show":"transparent","text":"Flip        "}
field2:{"type":"field","size":[80,15],"pos":[176,271],"show":"transparent","border":0,"style":"plain","align":"center","value":"danger, danger!"}
field3:{"type":"field","size":[80,14],"pos":[176,326],"show":"transparent","border":0,"style":"plain","align":"center","value":"high voltage!"}
button11:{"type":"button","size":[52,20],"pos":[7,310],"script":"home.13","show":"transparent","text":"     Rot"}
button12:{"type":"button","size":[52,20],"pos":[114,310],"script":"home.14","show":"transparent","text":"Rot     "}

{script:home.0}
on edit do
 patterns[pat.value]:canv.copy[]
end

on view do
 
end
{end}

{script:home.1}
on change val do
 canv.clear[]
 canv.paste[patterns[val]]
end
{end}

{script:home.2}
on click pos do
 me.pattern:!me[pos]
 edit[]
end

on drag pos do
 send drag[pos]
 edit[]
end

on release pos do
 drag[pos]
end
{end}

{script:home.3}
on click do
 canv.invert[]
 edit[]
end
{end}

{script:home.4}
on click do
 canv.clear[]
 edit[]
end
{end}

{script:home.5}
on click do
 clip.paste[patterns[pat.value]]
end
{end}

{script:home.6}
on click do
 patterns[pat.value]:clip.copy[]
end
{end}

{script:home.7}
on click do
 canv.paste[canv.copy[].translate[1,0 1]]
 edit[]
end
{end}

{script:home.8}
on click do
 canv.paste[canv.copy[].translate[-1,0 1]]
 edit[]
end
{end}

{script:home.9}
on click do
 canv.paste[canv.copy[].translate[0,1 1]]
 edit[]
end
{end}

{script:home.10}
on click do
 canv.paste[canv.copy[].translate[0,-1 1]]
 edit[]
end
{end}

{script:home.11}
on click do
 canv.paste[canv.copy[].transform["horiz"]]
 edit[]
end
{end}

{script:home.12}
on click do
 canv.paste[canv.copy[].transform["vert"]]
 edit[]
end
{end}

{script:home.13}
on click do
 canv.paste[canv.copy[].transform["left"]]
 edit[]
end
{end}

{script:home.14}
on click do
 canv.paste[canv.copy[].transform["right"]]
 edit[]
end
{end}

{contraption:patternPicker}
size:[100,100]
resizable:1
margin:[10,10,10,10]
description:"a palette of mutable patterns"
script:"patternPicker.0p"
template:"on change val do\n \nend"
attributes:{"name":["value","color"],"label":["Value","Color"],"type":["number","bool"]}
{widgets}
c:{"type":"canvas","size":[100,100],"pos":[0,0],"locked":1,"border":1,"scale":1}
v:{"type":"slider","size":[60,25],"pos":[2,-41],"locked":1,"show":"none","interval":[0,47]}
cc:{"type":"button","size":[14,20],"pos":[73,-40],"locked":1,"show":"none","style":"check","value":1}

{script:patternPicker.0p}
on get_value do v.value end
on set_value x do v.value:x view[] end
on get_color do cc.value end
on set_color x do cc.value:x view[] end

b:5
r:4+2*cc.value
s:floor(c.size-2*b)/8,r

on boxes do
 flip b+s*flip 8 cross r
end

on view do
 o:-50
 c.clear[]
 each p i in boxes[]
  if i<26
   c.pattern:2+i
   c.rect[p s]
   c.pattern:1
   c.box[p s+1]
   if (2+i)=v.value o:p end
  end
 end
 c.pattern:0
 c.box[o-1 s+3]
 c.pattern:1
 c.box[o-2 s+5]
end

on inside p r do
 min(p>r)&(r+s>p)
end
on click pos do
 each p i in boxes[]
  if inside[pos p]
   set_value[i+2]
   card.event["change" i+2]
  end
 end
end

{end}

