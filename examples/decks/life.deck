{deck}
version:1
card:0
size:[512,342]
name:"The Game of Life"
author:"John Earnest"

{card:home}
image:"%%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"
script:"home.0"
{widgets}
field1:{"type":"field","size":[164,20],"pos":[147,44],"locked":1,"font":"menu","show":"invert","border":0,"align":"center","value":"Conway's Game of Life"}
board:{"type":"canvas","size":[204,195],"pos":[126,106],"script":"home.1","pattern":0,"show":"invert","image":"%%IMG0ABoAGWBSCAAATGDABgAFQIcAAAAYgAAAIjY4gIh/AADCfyeACD4wQCIcN0CiCChAEIEhAKyBCYCQYIGAMACcwKAAUIAsdYEATBQpgAoWLQCkQDAApQ+/AMEREYDgKBKAgIAbACZgAEA=","scale":8}
button1:{"type":"button","size":[87,24],"pos":[381,119],"script":"home.2","text":"Clear"}
button2:{"type":"button","size":[87,24],"pos":[381,150],"script":"home.3","text":"Randomize"}
button3:{"type":"button","size":[87,24],"pos":[381,203],"script":"home.4","text":"1"}
field2:{"type":"field","size":[44,14],"pos":[401,184],"locked":1,"border":0,"align":"center","value":"step"}
button4:{"type":"button","size":[87,24],"pos":[381,235],"script":"home.4","text":"10"}
button5:{"type":"button","size":[87,24],"pos":[381,267],"script":"home.4","text":"100"}

{script:home.0}
on step do
 counts:image[board.size]
 each delta in (3 cross 3)-1
  counts.merge["+" board.copy[].translate[delta]]
 end
 stay:counts.copy[].map[((3,4) dict 1,1) 0].merge["&" board.copy[]]
 born:counts       .map[(3     dict 1  ) 0]
 board.paste[born.merge["|" stay]]
 sleep[5]
end

on steps x do
 step @ range floor x
end
{end}

{script:home.1}
on click pos do
 me.pattern:!me[pos] 
end

on release pos do
 drag[pos]
end
{end}

{script:home.2}
on click do
 board.clear[]
end
{end}

{script:home.3}
on click do
 b:image[board.lsize]
 b.pixels:random[(0,0,1) prod board.lsize]
 board.paste[b]
end
{end}

{script:home.4}
on click do
 steps[me.text]
end
{end}

