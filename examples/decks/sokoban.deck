{deck}
version:1
card:0
size:[512,342]
name:"Decker Sokoban"
author:"John Earnest"

{sounds}
thud:"%%SND0/CYZEQsG3Ojw9vn7/iQYDwoGBuHr8vf6+/7/IxcPCgYEA+Hs8vf5/P7///4eFA0IBQMBAd/q8vb6+/7+//8AAAAcEw0IBQMBAQEAAObv9fj7/f3//wAAAAAAAAAAAAMRDAcEAgEAAQAAAAAAAADt8vb5+/7///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUEAQ=="
scrape:"%%SND0AAAAAAAA/wD8AgAA/wAA/gD//AUAAAAAAAD+AAIE/QAAAAABAPQIAf4AAAD+Afz9EewLAAD/Af4ABQDvCAAA/wAA/wDxAAAIAQAA/wD++QQR5QkAAAD//gEA/QMKA/X9BP8A/AP9Ef3u+AsA/gAA/gEE9Av+Cvv/A/4BAfwAAAgF4A/7//8A//4B/Qb08gP8HfkABP4A/vwCAwjkAfwOAwAAAAAA+gr89xf61QMICwAA/v8C/P4O8wz99wvXJQ38/AAE/f8DAvUHCd0h7+P9CAgDAv4AAPgF9wUN7ArmKhLSCAAA/vYB/wH7Av/6C/oG4BIOJ9cj+QoAAAD/AP//BPv8EAAA7u8RFQXox1T/ywEF+/MDBPcFAfoG8/4BAQ0J8e0C/wALPqM97iUJ++r+AAD//gAG+gv49QEH+woJ8Qz0DuQFJvbb7kbgAesS0QNTzAAR/vn+/P4M/PUE9QMD//z9BAH2BQD/+QIJAwD1AAj57B8A6xfbFvTsGuIxD9wlAAXYNcoFA+fy9zXKABL1B1bfG6Zz4R7lzykT2/jfUT/kl2AKG/aRSQ4NlfJa8wm3Jy0g55tm1iTs9wkIzAjqJ80iCOPqKOn1F+gr0yvmGuEKEOUX8wr0AwP0A/n8BgD8BAz4FgIRHvUM3QbaEfUzFhnlEA3RLZgR6AEfEfj6D/XxCPoR+PgB+voECAEF7foJLNjnMfL5QbH97CIEBP74Cvv/BPUHAv8A/+379BQzt1Db2xcH7vsHCP0A/wT0A/7+BPU6oCUS5fnrFA/u+wkE//kCBf8ABAPuJsP88/4I+v8J+wUB/v4BBvcMG+ryCvQADPkAAAP9AP0B8AICEPkF/wH7A/4BAAH7BfQI9hD6AQAA/v4A/QD7CQPzAAA="
step:"%%SND0BfD4ADMP9/ATC9L1C/34/BIPCgkPBRMQ6gkB+QoIFOj/3fUO/QsF5gfr4PXtB/kT8RoLFfoOAxr58f0E7wLoBfvy7wAD8gYK+Q8G+QX9/gsTAPn9EPT4//cJAPr9D/4M8PPz+w8QAPz88AAB9gb59v8B/vwB+voDAPYAB/33/AT8/gAI/gYA+gAAAQT+AP/+AgD+/v//AAD/AAAAAA=="
reset:"%%SND07+/v7wYUGh0eHx8fHx8fIBD+9fLw7+/v7+/v7+/v7+/v7+/v7+/v7+/u8ggVGx4eHx8fHx8fFgD38/Dw7+/v7+/v7+/v7+/v7+/v7+/v7/IHFBocHh4fHx8fHgj79fHw8O/v7+/v7+/v7+/v7+/v7+/v7v4QFxsdHh4eHh4dBvv08vDw8O/v7+/v7+/v7+/v7/Dw8PDw8PDw8PDwABAYGx0eHh4eHh4eFgD49PHx8PDw8PDw8PDw8PDw8PDw8PDw8PDwAREYHB0eHh4eHh4bBvv18vHw8PDw8PDw8PDw8PDw8PDw8PDw8P8QFhscHR0eHh4eEQD48/Hx8PDw8PDw8PDw8PDw8PDw8PDv9gkUGRwdHR0dHR4QAPj08vHx8PDw8PDw8PDw8PDw8PDw7/cJExkbHB0dHR0dHR0M/vfz8vHx8PDw8PDw8PDw8PDw8PHx8fHx8fIEERcaHBwdHR0dHRoF/Pbz8vHx8fHx8fHx8fHx8fHx8fHx8fHw/AwUGRocHBwdHR4XA/r28/Lx8fHx8fHx8fHx8fHx8fHx8fHwAA4WGRsbHBwcHBoI/ff08/Lx8fHx8fHx8fHx8fHx8fHx8PoLExgaGxwcHBwcHBsK/vj08/Lx8fHx8fHx8fHx8fHx8fHx8fHx8fEBDhUYGhsbHBwcHBsL/vj18/Ly8vHx8fHx8fHx8fHx8fHx8fHy9AUQFhkaGxsbGxsbDQD59vPy8vLy8vLy8vLy8vLy8vLy8vLy9AQPFRgaGhsbGxsXBfz39PPy8vLy8vLy8vLy8vLy8vLy8vH8ChIXGRoaGxscFgX89/Xz8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLx/gsSFhkZGhoaGxsbDwH69/Tz8/Ly8vLy8vLy8vLy8vLy8vLy8vL/DBIWGRkaGhoaGxYF/fj19PPz8/Ly8vLy8vLy8vLy8vLy8vL5CBAVFxgZGhoaGhEC/Pf19PPz8/Pz8/Pz8/Pz8/Pz8/Pz8/8LEhYXGRkZGhoUBPz49vPz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8/P9CREVFxgZGRkZGRoRA/z49fX08/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8vkIDxQWGBgZGRkZGQoA+/f19PTz8/Pz8/Pz8/Pz8/Pz8/Pz8/QBDBIWFxgYGRkZGAkA+vf19fP08/Pz8/Pz8/Pz8/Pz8/Py9QMNEhUXFxgYGBoPAvz49vX09PT09PPz8/Pz8/Pz9PT09PT09PT09PP/ChATFhcYGBgYGBkPA/359vX19PT09PT09PT09PT09PT09PT08/kGDRIVFhcYGBgYGAwB/Pj29fX09PT09PT09PT09PT09PT09PT+CQ8TFhYXFxgYGA0C/fn29vX09PT09PT09PT09PT09PT09P8IDxIVFhYXFxgUB//7+Pb19fX09PT09PT09PT09PT09PT09PT09PP4BAsRExUWFxcXFxcVCQD7+Pf29fX19fT09PT09PT09PT09PT19fX+CA4SFBUWFhcXFxUIAPv59/b19fX19fX19fX19fX19fX19fX2AQkPEhQVFhYWFhYKAfz59/b19fX19fX19fX19fX19fX19fQACA4SExUVFhYXEgYA/Pn39vb19fX19fX19fX19fX19fX19fX19fX1+AMKDxITFRUVFhYWFQoB/fn49/X29fX19fX19fX19fX19fX19fX1/AUMDxIUFBUVFRYVCwH9+vj39vb29vT19fX19fX19fX19fX19f4GDA8SExQVFRUWDgT/+/n49/b29vb29vX19fX09fb29vb1+gQLDxITFBQUFRUKAv37+ff39vb29vb29vb29vb29vb29vb29vb29vb9BgwPEhMTFBQUFRUQBgD8+vj39/X29vb29vb29vb29vb29vb29vcABw0PERMTFBQUFREHAPz6+Pj29/b29vb29vb29vb29vb29vb3AAcMEBETExMUFBQLAv/7+vj39/f29vb29vb29vb29vb29vb9BQsOERISExMTEgkC/vv5+Pj29/f29vb29vb29vb29vb29vb29vb29v8GCw4QERITExMTEw4FAP36+fj39vf39/f39/f39/f39/f39/f3+AAGCw4QERISExMTEAYA/fv6+Pj39/f39/f39/f39/f39/f39/cABgsNEBEREhITEwoD//z6+fj49/f39/f39/f39/f39/f39vwECQ0PEBESEhISCQP//Pr5+Pj39vf39/f39/f39/f39/f39/f39/f3/QQJDQ4QERESEhISEAcB/vv6+fj4+Pj29/f39/f39/f39/f39/f2/gQJDA4QEBEREhIRCQL//fr6+fj4+Pj49vf39/f39/f39/f39v0DCQsODxAQERERDQUA/vz6+fj3+Pj4+Pj4+Pj4+Pj4+Pj3+QAHCgwODxAQEREMBQD++/r6+fj4+Pj4+Pj4+Pj4+Pj4+PkBBgoMDg8QEBARERELBAD+/Pr5+fj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj/BAgLDQ8PDxAQEA8IAgD9+/r5+Pn4+Pj4+Pj4+Pj4+Pj4+Pj4+wIGCgwODg8QEBEOBwL//fv6+fj5+fj4+Pj4+Pj4+Pj4+Pj3/QMHCgwNDg8PEBAJAwD+/Pr6+fn5+fj4+Pj4+Pj4+Pj49/sBBgoLDQ4ODw8PDxAJBAD9/Pv5+vn5+fn5+fj3+Pj4+Pj4+Pj4+Pj+AwcKDA0ODg4QDw8JAwD+/Pv6+vn5+fn5+fn5+fn5+fn5+fn5+QAECAoLDQ0ODg8PCgQA//z7+/n6+fn5+fn5+fn5+fn5+fn5+f8DBwoLDA0ODg8NBwP//vz7+vr6+fn5+fn5+fn5+fn5+fj8AQUJCgsNDQ0PDAcCAP78/Pv6+vr5+fn5+fn5+fn5+fn5+fn5+fn4/QEFCAoLDA0NDg4OCwQB//38+/v6+vr6+Pn5+fn5+fn5+fn5+fn9AQUICQsMDA4NDQ0HAgD+/fz6+/r6+vr6+vj5+fn5+fn5+fj7AAQHCQoLDAwNDQsGAgD+/Pz7+/r6+vr6+vr6+vr6+vr6+v0BBQcJCwsMDA0MBwIA/v38+/v6+vr6+vr6+vr6+vr6+vr6+vr6+vr8AAQHCAoLCwwMDA0LBQIA/v38+/v7+vr6+vr6+vr6+vr6+vr6+fsAAwYICQoMCwwMDAgEAQD+/fz8+vv6+fr6+vr6+vr6+vr6+vr+AQUGCQkKCwsMDAgEAf/+/fv8+/v7+/r6+vr6+vr6+vr6+v8BBAcICQoLCwwJBQEA/v39+/z6+/v7+/r6+vr6+vr6+vr6+vr6+vn9AAMGBwgKCgsMCwwKBQEA//39+/z7+/v7+/v7+/v7+/v7+/v7+/v/AgUGCAkKCwoLDAgFAgD//v38/Pv7+/v7+/v7+/v7+/v7+/r8AAMFBggJCgsKCwkEAgD+/v38+/z7+/v7+/v7+/v7+/v7+v0AAgUHCAgKCQoKBwMA//7+/Pz8/Pz7+/v7+/v7+/v7+/v7+/v7+/r7/gEDBgcICAkJCgoKBwQBAP/+/f38/Pz8+/r7+/v7+/v7+/v7+/r8AAIEBgcICAkJCQoHAwEA//79/Pz7/Pz8/Pr7+/v7+/v7+/v7/QACBAYHBwgJCQoHBAEA//7+/P37/Pz8/Pz8/Pz7+/v7+/v9AAIEBgYHCAgJCQUDAQD//v38/fz7/Pz8/Pz8/Pz8/Pz8/Pz8/Pz8+/4AAwQFBwgHCQgICQcEAQD///39/f38/Pz8/Pz8/Pz8/Pz8/Pz8/AABAwUGBggHCAgIBwQCAAD+/f78/f38+/z8/Pz8/Pz8/Pz8+/0AAQMFBQYHCAgJCAQCAQD//v79/f39/Pv8/Pz8/Pz8/Pz7/P8BAwQFBgYHBwgGAwIAAP/+/f38/f38/fv8/Pz8/Pz8/Pz8/Pz8/Pz9/wEDBAUFBgYHBwcHBQMAAAD+/v79/P39/f39/fz7/Pz8/Pz8/Pv+AAEDBAQFBgYGBwcFAgEA//7//f78/f39/f39/f39/f39/f38/gABAwQEBgUHBgYGAwEAAP///v7+/P39/f39/f39/f39/f39/wECAwQFBQYGBgUDAQD////9/v79/P39/f39/f39/f39/f39/f39/P0AAQIDBAUGBQYHBgYEAgEA/////v39/v39/f39/f39/f39/f39/P4AAQIDBAQFBgUFBQQCAQAA//7//f7+/f78/f39/f39/f39/fz+AAECAwMEBAUFBgUDAQEAAP7//v7+/v7+/v39/f39/f39/P3/AAECAwQFBAUGBAIBAAAA/v/+/f7+/v7+/v7+/f38/fz9AAABAgMDBAUEBAUFBAIBAAAA/////f7+/v7+/v7+/v7+/v7+/v79/wABAQMDAwQEBAQEAwIAAAD//v///v7+/v7+/v7+/v7+/v7+/f4AAAECAgQDAwUFAwIBAAAA//7//v/9/v7+/v7+/v7+/v7+/v8AAQEBAwMDAwMEAwEAAP8A///////+/v7+/v7+/v7+/v3/AAABAQMCAwMDAwMEAgEBAAAA//7//////v7+/v7+/v7+/v7+/v7+/wABAQEDAgMEAwMEAwEBAAD///7///////7+/f7+/v7+/v7+/v7/AAABAQICAwIEAwEBAQAA/wD///////////////7+/f7+/f8AAAEBAQECAgICAgEBAAD/AAD+/////////////////////wAAAQEBAQICAgIBAQAAAAD///7///////////////////////////8AAAEAAgEBAgMCAwIAAAAA/wD/AP7////////////////////+/wAAAAABAQEBAQECAA=="
chime:"%%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/f4GCQD4+QADBgX++f4EAf4ABQH7/AACAgL/+/8FAvv8BAUA/f8AAAIDAP8CAfv7BAkC+/v+AAQGAPz+AP79BAkB+fn/AgUFAPn8AgL/AAQB+/sAAwICAPv9BAT+/AEDAP4AAP8AAgD/AgL8+gEIA/38/f8CBgL9/QD//gMIAvv6/wEEBQD7/AECAAADAfz8AAIBAQD9/gME/vwBBAD/AAD/AAIA/wEC/foBBwP+/f7+AAUD//4A/vwBCAT8+/4AAgUD/fsAAf8ABQP8+wACAQIB/fwBBP/8AAQA/gAB/v8CAf8BAv75AAcF/v3+/QAFBQD9AP/8AAgG/Pn+AAEFBf76/wEAAAUE/fr/AgECAv/7AAQA/AAEAPz/AQD/AgH+AAMA+/4GBf/9////AwUA/QAA/P8GB//5/QAABAUA+v0BAP8EBf/5/QICAgL/+/4EAv7/AwH9/wIA/wAB/wADAfv8AwYA/f///gIFAf7/AP39BAgA+/z/AAMFAPv9AQD/AQUA+/0AAQIDAPz9AwP+/gIC/v4AAP8AAf/+AgL9+wEFAf7//v4BBQL+AAD9/AIIA/38/f8CBgP8/AAA/wEGAvz8/wACBAH7+wEDAP4BAv/+AAD/AQL//gED/vsABQMA//39AAUD/v4A/vwBBwT+/P3+AgcE/fsAAP8ABQP9/P4AAQUD/foAAwD/AQL//gAAAAED//wAAwD8AAMCAAD+/QAEA//+AAD8AAUEAP38/QAGBf77/wAAAAQD/vz+AAEFBP36/wMB/wABAP8AAAABAgD9AAMB/f4CAgAA//3/AwMA/gAA/f8DBQD+/f0ABQUA+/4AAAADAwD9/v8ABAT/+/4CAgAAAQD/AAAAAAIA/f8DAv79AAIBAP/9/gIDAP8AAP3+AgUC//38/wQGAfz9AAAAAgQA/f3+AAQFAPv9AQIAAAEA/wAAAAACAP7+AgL//QACAQD//f4CBAD/AAD+/QEFA//9/P4DBgL9/QAAAAIEAf79/gADBQH8/AACAAABAP//AAAAAwH+/QECAP4AAgEAAP7+AQMA/wAA/v0ABAMA/vz9AgYD/v0AAP8BBAL+/f7/AgUC/PsAAgAAAQD//wAAAAIB/v0BAwD+AAEBAAD//gADAf8AAf/9AAMDAP/9/QAFA//9AAD/AAQC//3+/wEFA/78AAEAAAEB//8AAAACAv/9AAMA/gABAAAA//4AAgEAAAH//f8DAwD//fwABAQA/v///gAEAwD+/v4ABAT//P4AAAACAf/+AAAAAQIA/QACAP8AAQAAAAD+/wICAAAAAP3/AgMAAP79/wMEAP7///8AAwMA/v7+AAMFAPz9AAAAAgEA/v8AAAEDAP3+AQEAAAAAAAAA/v8BAgD/AAD+/wECAQD//f4CBQH+/v//AAMDAP7+/v8DBQH9/QAAAQIB//4AAAABAwH9/gEBAAAAAAAAAP/+AQIA/wAA//8BAgEAAP39AQUC/v4A/wACAwD///7+AQUC/f0AAAABAgD+AAD/AAMC/v0AAgAAAAAAAAH//gACAP8AAf/+AAIBAAD+/AAEA//+AP//AQMBAP/+/gAFA/78/wAAAQIA//8A/wADAv/9AAIAAAAAAAABAP4AAwD/AAEA/gABAQAA/v0ABAMA/gAA/wADAgD//v0ABAT//P8AAAACAf//AP8AAwP//P8BAQAAAAAAAAD/AAIA/v8BAP//AQEAAP/9/wMDAP4AAP8AAgIA//79AAQFAPz+AAAAAgH/////AAIDAPz+AQEAAAAAAAAA/wACAf7/AQH//wABAAAA/f4CAwD+AAD/AAECAAD//f8DBQD9/gAAAAEBAP8A//8BBAD9/QACAAAAAAAAAP8AAgH//gECAP8AAAABAP7+AQMB/wAA//8AAgEA//3+AQUC/v0AAAABAQD/AP//AQQB/f0AAgEAAAAAAAD//wEC//4AAgD/AAAAAQD+/QADAf//AAD/AAEBAAD+/QAEA//9/wAAAQEA/////wAEA/78/wEBAAAA/wAAAP8BAgD+AAEBAP8AAAEB//0AAwL//wAA/wABAQAA/v0ABAQA/f4AAAEBAAD///8AAwP//P4BAgEAAP8AAAAAAAIA/v8BAQD/AAAAAQD+/wICAP8AAAAAAAEAAP/+/wIEAP7+AAAAAQAA////AAIDAP3+AAEBAAD/AAAAAAABAP7/AAEAAAAAAAEA/v8BAgD/AAAAAAABAQAA/v8BAwH//gAAAAEBAAD//wABAwD+/gABAQEA/wAAAAAAAQD//wABAAAAAAABAP//AAIAAAAAAAAAAAAAAP7+AQMB//7/AAABAQAAAP//AQMB/v0AAAEBAP//AAAAAAEB//4AAQAAAAAAAQD//wABAAAAAAAAAAAAAAD+/gADAgD+/wAAAQEAAAD//wADAv/9/wABAQAA/wAAAAABAf/+AAEBAAAAAAABAP8AAQAAAAAAAAAAAAAA//4AAgIA//8AAAEBAAAA//8AAwIA/v8AAQEBAP8AAAAAAQEA/gABAQAAAP8AAQD/AAEAAAAAAAAAAAAAAAD+/wICAP//AAAAAQAAAP//AAICAP7+AAABAQD//wAAAAEBAP7/AAEAAAD/AAEA/wAAAAAAAAAAAAAAAAAA/v8BAgD//wAAAAEBAAAA/wABAwD+/gAAAQEA//8AAAABAQD+/wABAAAA/wAAAAAAAAAAAAAAAAAAAAAAAP//AAIBAP//AAABAQAAAP//AQMB//7/AAEBAP//AAAAAAEA//4AAQEAAP8AAAAAAAABAAAAAAAAAAAAAAD//wACAQD/AAAAAQEAAAD//wACAf/+/wABAQEA/wAAAAABAf/+AAEBAAAA/wAAAAAAAAAAAAAAAAAAAAAA//8AAQEA/wAAAAABAAAA//8AAgIA/v8AAAEBAP//AAAAAQH//gAAAQAAAP8AAAAAAAAAAAAAAAAAAAAAAAD/AAEBAP8AAAAA"

{card:game}
image:"%%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"
script:"game.0"
{widgets}
reset:{"type":"button","size":[64,32],"pos":[428,282],"script":"game.1","show":"transparent","text":"Reset","style":"rect","shortcut":"r"}
level:{"type":"slider","size":[100,25],"pos":[403,25],"script":"game.2","show":"none","interval":[0,2],"format":"Level %f","style":"compact"}
event_pump:{"type":"button","size":[64,32],"pos":[416,64],"animated":1,"script":"game.3","show":"none"}
undo:{"type":"button","size":[64,32],"pos":[20,282],"locked":1,"script":"game.4","show":"transparent","text":"Undo","style":"rect","shortcut":"z"}
hist:{"type":"grid","size":[100,50],"pos":[20,29],"show":"none","format":"j","value":{"actors":[]}}
box1:{"type":"contraption","size":[32,32],"pos":[256,160],"show":"transparent","def":"mover","widgets":{"c":{},"s":{"value":"{\"anim\":0,\"orig\":[256,160],\"dest\":[100,100]}"},"i":{"value":"box"}}}
player:{"type":"contraption","size":[32,32],"pos":[160,160],"show":"transparent","def":"mover","widgets":{"c":{},"s":{"value":"{\"anim\":0,\"orig\":[152,160],\"dest\":[160,160]}"},"i":{"value":"player"}}}

{script:game.0}
CELL:32 # grid size

deltas.left :-1, 0
deltas.right: 1, 0
deltas.up   : 0,-1
deltas.down : 0, 1

on resetLevel do
 card.remove[findActors[]]
 l:deck.cards["level_%i" format level.value]
 card.image.paste[l.image.copy[]]
 card.paste[l.copy[l.widgets]]
 hist.value:0 take hist.value
 undo.locked:1
end

on isTile pos tile do
 0<card.image.copy[pos CELL,CELL].hist[tile]
end
on isWall pos do isTile[pos 20] end
on isGoal pos do isTile[pos 29] end
on findActors do
 extract value where value..type="contraption" from card.widgets
end
on findBoxes do
 extract value where value..name like "box*" from findActors[]
end
on findActor pos do
 b:findActors[]
 ((b..pos)dict b)[pos]
end
on thud pos do
 play["thud"]
 player.bounce[pos]
end

on navigate dir do
 moved:0
 act:act:findActors[]
 before:(act..name) dict (act..dest)
 
 d:deltas[dir]
 a:player.dest
 b:a+d*CELL
 
 if isWall[b]
  thud[b]
 elseif f:findActor[b]
  fa:f.dest
  fb:fa+d*CELL
  if findActor[fb] unless isWall[fb]
   thud[b]
  else
   play["scrape"]
   f.move[fb]
   player.move[b]
   moved:1
  end
 else
  play["step"]
  player.move[b]
  moved:1
 end
 if moved
  hist.value:hist.value,insert actors with before end
  undo.locked:0
 end
end

on check_board do
 won:min each box in findBoxes[]
  isGoal[box.dest]&box.done
 end
 if won
  sleep[30]
  play["chime"]
  if level.value<last level.interval
   go[black "BoxOut" 10]
   level.value:level.value+1
   resetLevel[]
   go[game "BoxIn" 10]
  else
   go[win "BoxIn"]
  end
 end
end
{end}

{script:game.1}
on click do
 resetLevel[]
 play["reset"]
end
{end}

{script:game.2}
on change val do
 resetLevel[]
end
{end}

{script:game.3}
on view do
 check_board[]
end
{end}

{script:game.4}
on click do
 each pos name in first last hist.value
  card.widgets[name].pos:pos
 end
 hist.value:-1 drop hist.value
 undo.locked:0~count hist.value
 play["reset"]
end
{end}

{card:win}
image:"%%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"
script:"win.0"
{widgets}
button1:{"type":"button","size":[96,32],"pos":[384,288],"script":"win.1","text":"Play Again?","shortcut":"r"}

{script:win.0}
on navigate do end
{end}

{script:win.1}
on click do
 game.widgets.level.value:0
 game.event["resetLevel"]
 play["reset"]
 go[game "BoxIn"]
end
{end}

{card:black}
image:"%%IMG3AgABVgXgJY5kaZ5oqq5s675wLM90bd94ru987//AoHBILBqPyKRyyWw6n9CodEqtWq/YrHbL7Xq/4LB4TC6bz+i0es1uu9/wuHxOr9vv+Lx+z+/7/4CBgoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TV1tfY2drb3N3e3+Dh4uPk5ebn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f7/AAMKHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePIEOKHEmypMmTKFOqXMmypcuXMGPKnEmzps2bOHPq3Mmzp8+fQIMKHUq0qNGjSJMqXcq0qdOnUKNKnUq1qtWrWLNq3cq1q9evYMOKHUu2rNmzaNOqXcu2rdu3cOPKnUu3rt27ePPq3cu3r9+/gAMLHky4sOHDiBMrXsy4sePHkCNLnky5suXLmDNr3sy5s+fPoEOLHk26tOnTqFOrXs26tevXsGPLnk27tu3buHPr3s27t+/fwIMLH068uPHjyJMrX868ufPn0KNLn069uvXr2LNr3869u/fv4MOLH0++vPnz6NOrX8++vfv38OPLn0+/vv37+PPr38+/v///AAYo4IAEFmjggQgmqOCCDDbo4IMQRijhhBRWaOGFGGao4YYcdujhhyCGKOKIJJZo4okopqjiiiy26OKLMMYo44w01mjjjTjmqOOOPPbo449ABinkkEQWaeSRSCap5JJMNunkk1BGKeWUVFZp5ZVYZqnlllx26eWXYIYp5phklmnmmWimqeaabLbp5pvIhAA="

{card:sprites}
image:"%%IMG3AgABVgZAgHBILBqPyKRyyWw6n9CodEqtWq/YrHbL7Xq/4LB4TC6bz+i0es1uu9/wuHxOr9vv+Lx+z+/7/4CBgoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TV1tfY2drb3N3e3+Dh4uPk5ebn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f7/AAMKHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePIEOKHEmypMmTKFOqXMmypcuXMGPKnEmzps2bOHPq3Mmzp8+fQIMKHUq0qNGjSJMqXcq0qdOnUKNKnUq1qtWrWLNq3cq1q9evYMOKHVsqgNmzaANUScuWbDu2cM9CiRvXbTq6eM0uyYvXLjm4IAILHgwibRLAhAkb9gsObeLHghcXcQz5sWTG285W3lxYLhHNnCGjxcwNdOIAoT0PMa04tV7S2lhHNuta7Wrap3FvVg3bmuzIlVEHHi3k9/Dgs1/39q07dGfhzz83r518+TXjuwfzxo68unXm0J0rVl58uvjh5L9Po3wevW3p5p3zVr+evfj55bmLTk9fGtvCnF0Gn2bhWUZcf9Xw1ddhCtaFIHgN4mdEhAI+WJ9aDTohV4YWYuPZhhXu9RqIB3Z43Yd6wTXXiCmGaGI0B5IIgIsTvkdiiS/CuF2LLPJXo408zihhjsuUSJxqNAoJJIY8vkckMwIieSSOtzkpo5JOPolMhTtKiQSOVyapJTA+KjnZkGemp2J+ZY5ZJH9osvmjkW26qYyEWX6ZZ34z2plZGHv6KeighBZq6KGIJqrooow26uijkEYq6aSUVmrppZhmqummnHbq6aeghirqqKSWauqpqKaq6qqsturqq7DGKuustNZqaz103UomhQ7q+gqvvfq6ylkNFGtsAxQK2wqxxzbr7LFxKisKs89Wa2y00oJCrbXVYputJ9ty66y333ISrrjQ1lkuuGah262665rbrrvjwhuvJufSS+69l+Tr7r78VuIvugAHPMnA4hZscCQIc6vwwo80bO3DEDci8buBVtzvvPSmm7HGAnPccbEUg5zIxc+WbPIhKNf78cqS8NqsyjATAmywNVtyc1s5p7Jmz0AHLfTQRBdt9NFIJ6300kw37fTTUEct9dRUV2311VhnrfXWXHft9ddghy322GSXbfbZaKet9tpst+3223DHLffcdNdt991456333nz37fffgAcu+OCEF2744YgnrvjijDfu+OOQRy755JRXbvnlmGeu+eacd+7556CHLvropJdu+umop6766qy37vrrsMcu++y012777bjnrvvuvPfu++/ABy/88MQXb/zxyCev/PLMN+/889BHL/301Fdv/fXYZ6/99tx37/334Icv/vjkl2/++einr/767Lfv/vsbBQE="
{widgets}
player:{"type":"button","size":[64,32],"pos":[80,80],"show":"none"}
box:{"type":"button","size":[32,32],"pos":[80,144],"show":"none"}

{card:level_0}
image:"%%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"
script:"level_0.0"
{widgets}
box1:{"type":"contraption","size":[32,32],"pos":[256,160],"show":"transparent","def":"mover","widgets":{"c":{},"s":{"value":"{\"anim\":0,\"orig\":[256,160],\"dest\":[100,100]}"},"i":{"value":"box"}}}
player:{"type":"contraption","size":[32,32],"pos":[160,160],"show":"transparent","def":"mover","widgets":{"c":{},"s":{"value":"{\"anim\":0,\"orig\":[256,160],\"dest\":[100,100]}"},"i":{"value":"player"}}}

{script:level_0.0}
on view do
 
end
{end}

{card:level_1}
image:"%%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"
{widgets}
box2:{"type":"contraption","size":[32,32],"pos":[288,128],"show":"transparent","def":"mover","widgets":{"c":{},"s":{"value":"{\"anim\":0,\"orig\":[256,160],\"dest\":[100,100]}"},"i":{"value":"box"}}}
box1:{"type":"contraption","size":[32,32],"pos":[192,192],"show":"transparent","def":"mover","widgets":{"c":{},"s":{"value":"{\"anim\":0,\"orig\":[256,160],\"dest\":[100,100]}"},"i":{"value":"box"}}}
player:{"type":"contraption","size":[32,32],"pos":[256,160],"show":"transparent","def":"mover","widgets":{"c":{},"s":{"value":"{\"anim\":0,\"orig\":[256,160],\"dest\":[100,100]}"},"i":{"value":"player"}}}

{card:level_2}
image:"%%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"
{widgets}
player:{"type":"contraption","size":[32,32],"pos":[256,224],"show":"transparent","def":"mover","widgets":{"c":{},"s":{"value":"{\"anim\":0,\"orig\":[256,160],\"dest\":[100,100]}"},"i":{"value":"player"}}}
box2:{"type":"contraption","size":[32,32],"pos":[224,192],"show":"transparent","def":"mover","widgets":{"c":{},"s":{"value":"{\"anim\":0,\"orig\":[256,160],\"dest\":[100,100]}"},"i":{"value":"box"}}}
box1:{"type":"contraption","size":[32,32],"pos":[192,160],"show":"transparent","def":"mover","widgets":{"c":{},"s":{"value":"{\"anim\":0,\"orig\":[256,160],\"dest\":[100,100]}"},"i":{"value":"box"}}}

{contraption:mover}
size:[32,32]
margin:[0,0,0,0]
description:"A self-tweening sprite."
script:"mover.0p"
attributes:{"name":["img"],"label":["Image"],"type":["string"]}
{widgets}
c:{"type":"canvas","size":[32,32],"pos":[0,0],"locked":1,"animated":1,"volatile":1,"show":"transparent","border":0,"scale":1}
s:{"type":"field","size":[100,22],"pos":[71,-36],"show":"none","style":"plain","value":"{}"}
i:{"type":"field","size":[100,20],"pos":[64,0],"show":"none","style":"plain"}

{script:mover.0p}
on get_img     do i.text   end
on set_img   x do i.text:x end
on get_state   do "%j" parse s.text end
on set_state x do s.text:"%j"format x end

STEPS:4

on tween a b t do
 a+(b-a)*t
end

on view do
 spc:deck.cards.sprites
 spb:spc.widgets[i.text]
 spn:floor spb.size[0]/card.size[0]
 spi:floor spn%sys.frame/15
 c.clear[]
 c.paste[spc.image.copy[spb.pos+(spi*card.size*1,0) card.size]]
 st:get_state[]
 if st.anim>0
  card.pos:tween[st.orig st.dest (STEPS-st.anim)/STEPS-1]
  st.anim:st.anim-1
 end
 set_state[st]
end

on get_dest do
 st:get_state[]
 if st.anim>0
  st.dest
 else
  card.pos
 end
end

on get_done do
 st:get_state[]
 st.anim~0
end

on get_move do
 on move pos do 
  st:get_state[]
  if st.anim card.pos:st.dest end
  st.anim:STEPS
  st.orig:card.pos
  st.dest:pos
  set_state[st]
 end
end

on get_bounce do
 on bounce pos do
  st:get_state[]
  if st.anim card.pos:st.dest end
  st.anim:STEPS
  st.orig:tween[card.pos pos 0.25]
  st.dest:card.pos
  set_state[st]
 end
end
{end}

